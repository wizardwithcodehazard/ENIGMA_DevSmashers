{% extends 'base.html' %}

{% block extra_css %}
{# A style block is needed for hover effects and button styling. #}
<style>
    .btn-primary-custom {
        display: inline-block; font-weight: 600; color: #fff; background-color: #28a745; text-align: center; text-decoration: none; border: 1px solid transparent; padding: 10px 25px; font-size: 1rem; border-radius: 8px; cursor: pointer; transition: opacity 0.2s ease;
    }
    .btn-primary-custom:hover {
        opacity: 0.85;
    }
    .post-card-link {
        text-decoration: none; color: inherit;
    }
    .post-card-link .post-summary-card {
        transition: transform 0.25s ease, box-shadow 0.25s ease;
    }
    .post-card-link:hover .post-summary-card {
        transform: translateY(-5px);
        box-shadow: 0 7px 14px rgba(0,0,0,0.07), 0 3px 6px rgba(0,0,0,0.1);
    }
    .post-card-link:hover h3 {
        color: #28a745;
    }
    .btn-back-custom:hover {
        text-decoration: underline !important;
    }
</style>
{% endblock extra_css %}

{% block content %}
<div style="max-width: 960px; margin: 40px auto; padding: 20px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
    
    <div style="text-align: center; margin-bottom: 40px;">
        <h1 style="font-size: 2.8rem; font-weight: 700; color: #004d40; margin-bottom: 0.5rem;">{{ topic.name }}</h1>
        <p style="font-size: 1.2rem; color: #6c757d; margin-bottom: 25px;">{{ topic.description }}</p>
        <a href="{% url 'post_create' topic.slug %}" class="btn-primary-custom">Create New Post</a>
    </div>
    
    <div class="post-list">
        {% for post in posts %}
            <a href="{% url 'post_detail' post.pk %}" class="post-card-link">
                <div class="post-summary-card" style="background: #fff; border: 1px solid #dee2e6; border-radius: 12px; padding: 25px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.05);">
                    <h3 style="color: #004d40; font-size: 1.5rem; font-weight: 600; margin-top: 0; margin-bottom: 5px; transition: color 0.2s ease;">{{ post.title }}</h3>
                    <p style="font-size: 0.9rem; color: #6c757d; margin: 0;">by {{ post.author.username }} on {{ post.created_at|date:"F d, Y" }}</p>
                </div>
            </a>
        {% empty %}
            <div style="text-align: center; padding: 50px; background: #f8f9fa; border: 1px dashed #dee2e6; border-radius: 12px;">
                <p style="font-size: 1.1rem; color: #6c757d;">No posts in this topic yet. Be the first to create one!</p>
            </div>
        {% endfor %}
    </div>
    
    <a href="{% url 'forum_list' %}" class="btn-back-custom" style="display: inline-block; margin-top: 25px; color: #004d40; text-decoration: none; font-weight: 500;">‚Üê Back to All Topics</a>
</div>
{% endblock %}